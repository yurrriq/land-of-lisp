\usepackage{fontspec}
% https://tex.stackexchange.com/a/43628/45537
\setmainfont[Mapping=tex-text,Numbers=OldStyle]{Palatino}
\setsansfont[Mapping=tex-text,Numbers=OldStyle,Scale=MatchLowercase]{Gill Sans}
\setmonofont[Mapping=tex-text,Scale,Path=./]{iosevka-type-regular}

% HACK: https://tex.stackexchange.com/a/200725/45537
\usepackage{ifxetex}
\ifxetex
  \newcommand{\textls}[2][5]{%
    \begingroup\addfontfeatures{LetterSpace=#1}#2\endgroup
  }
  \renewcommand{\allcapsspacing}[1]{\textls[15]{#1}}
  \renewcommand{\smallcapsspacing}[1]{\textls[10]{#1}}
  \renewcommand{\allcaps}[1]{\textls[15]{\MakeTextUppercase{#1}}}
  \renewcommand{\smallcaps}[1]{\smallcapsspacing{\scshape\MakeTextLowercase{#1}}}
  \renewcommand{\textsc}[1]{\smallcapsspacing{\textsmallcaps{#1}}}
\fi

\usepackage{noweb}
\noweboptions{smallcode,longxref,longchunks,english}
% NOTE: -filter 'pp src/pp-translation.table'
% \let\originalprime='
% \def\setupcode{\catcode`\=10 \catcode`\'=13 \regressprime}
% {\catcode`\'=\active
%  \makeatletter
%  \gdef\regressprime{\def'{^\bgroup\prim@s}}}
% \let\Tt\relax

\usepackage{color}
% https://commons.wikimedia.org/wiki/File:Erlang_logo.svg
\definecolor{ErlangRed}{HTML}{A90533}

\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{mathtools}
\mathtoolsset{centercolon}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}

\usepackage{dirtytalk}

\usepackage[english]{fancyref}

\usepackage{minted}
\newmintinline[lsp]{lisp}{}
\newmintinline[cee]{c}{}
\newmintedfile{lisp}{linenos,fontsize=\footnotesize}
% \setminted[lisp]{mathescape}

\usepackage{hyperref}
\newcommand{\srclink}[1]{%
  \href{https://github.com/yurrriq/land-of-lisp/blob/master/#1}{%
    \mintinline{text}{#1}%
  }%
}

\usepackage[colorinlistoftodos,prependcaption,textsize=small]{todonotes}
\newcommand{\todocolor}[3]{%
  \todo[backgroundcolor=#1!50,bordercolor=#1,linecolor=#1]{#3}%
  \message{#2: #3}%
}
\newcommand{\todor}[1]{\todocolor{red}{FIXME}{#1}}
\newcommand{\todoo}[1]{\todocolor{orange}{TODO}{#1}}

\author{Eric Bailey}